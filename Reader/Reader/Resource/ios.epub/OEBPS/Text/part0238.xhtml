<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>未知</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
  <h2 class="calibre9">28.4 改变颜色</h2>

  <p class="calibre1">　　下面将升级Colorboard应用，用户可以在Colorboard中选择一款颜色并将其收藏到颜色列表中。</p>

  <p class="calibre1">　　返回Colorboard.storyboard，向BNRColorViewController中添加一个UITextField对象、三个UILabel对象和三个UISlider对象，界面看起来应该类似于图28-18。</p>

  <p class="calibre7"><img alt="tu28-18" src="../Images/image00707.jpeg" class="calibre8"/></p>

  <p class="calibre7">图28-18 设置BNRColorViewController的view</p>

  <p class="calibre1">　　下面根据UISlider对象中的色值修改BNRColorViewController的view的背景颜色。在BNRColorViewController.m的类扩展中，为UITextField对象和UISlider对象添加相应的插座变量：</p>

  <p class="calibre1"><span class="calibre10">　　@interface BNRColorViewController （）</span><br class="calibre2"/></p>

  <p class="calibre1"><span class="calibre10">　　@property （nonatomic, weak） IBOutlet UITextField *textField;</span><br class="calibre2"/></p>

  <p class="calibre1"><span class="calibre10">　　@property （nonatomic, weak） IBOutlet UISlider *redSlider;</span><br class="calibre2"/></p>

  <p class="calibre1"><span class="calibre10">　　@property （nonatomic, weak） IBOutlet UISlider *greenSlider;</span><br class="calibre2"/></p>

  <p class="calibre1"><span class="calibre10">　　@property （nonatomic, weak） IBOutlet UISlider *blueSlider;</span><br class="calibre2"/></p>

  <p class="calibre1"><span class="calibre10">　　@end</span><br class="calibre2"/></p>

  <p class="calibre1">　　@implementation</p>

  <p class="calibre1">　　当用户拖曳任意一个UISlider对象时，都将触发相同的动作方法。在BNRColorViewController.m中添加该方法，代码如下：</p>

  <p class="calibre1"><span class="calibre10">　　- （IBAction）changeColor:（id）sender</span><br class="calibre2"/></p>

  <p class="calibre1"><span class="calibre10">　　{</span><br class="calibre2"/></p>

  <p class="calibre1"><span class="calibre10">　　float red = self.redSlider.value;</span><br class="calibre2"/></p>

  <p class="calibre1"><span class="calibre10">　　float green = self.greenSlider.value;</span><br class="calibre2"/></p>

  <p class="calibre1"><span class="calibre10">　　float blue = self.blueSlider.value;</span><br class="calibre2"/></p>

  <p class="calibre1"><span class="calibre10">　　UIColor *newColor = [UIColor colorWithRed:red</span><br class="calibre2"/></p>

  <p class="calibre1"><span class="calibre10">　　green:green</span><br class="calibre2"/></p>

  <p class="calibre1"><span class="calibre10">　　blue:blue</span><br class="calibre2"/></p>

  <p class="calibre1"><span class="calibre10">　　alpha:1.0];</span><br class="calibre2"/></p>

  <p class="calibre1"><span class="calibre10">　　self.view.backgroundColor = newColor;</span><br class="calibre2"/></p>

  <p class="calibre1"><span class="calibre10">　　}</span><br class="calibre2"/></p>

  <p class="calibre1">　　接下来打开Colorboard.storyboard，然后按住Option键，在辅助编辑器中打开BNRColorViewController.m，首先关联视图与对应的插座变量，然后按住Control键，将三个UISlider对象分别拖曳到Color View Controller，关联changeColor:动作方法。</p>

  <p class="calibre1">　　构建并运行应用，拖曳任意一个UISlider对象，可以发现view的背景颜色会随之改变。</p>

  <p class="calibre1"><br class="calibre2"/></p>
<div class="calibre5">本书由「<a href="https://epubw.com" class="calibre6">ePUBw.COM</a>」整理，<a href="https://epubw.com" class="calibre6">ePUBw.COM</a> 提供最新最全的优质电子书下载！！！</div></body></html>
