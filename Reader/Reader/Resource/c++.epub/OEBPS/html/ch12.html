<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>12. Numerics</title>
<link rel="stylesheet" type="text/css" href="9780133549003.css"/>
</head>
<body>
<h2 id="ch12"><a id="page_133"/><span class="pd_blue">12.</span> Numerics</h2>
<p class="blockquote"><em>The purpose of computing is insight, not numbers.</em></p>
<p class="attribution"><em>&#8211; R. W. Hamming</em></p>
<p class="blockquote"><em>... but for the student,<br/>numbers are often the best road to insight.</em></p>
<p class="attribution"><em>&#8211; A. Ralston</em></p>
<p class="indenthangingB">&#8226; <a href="ch12.html#ch12lev1sec1">Introduction</a></p>
<p class="indenthangingB">&#8226; <a href="ch12.html#ch12lev1sec2">Mathematical Functions</a></p>
<p class="indenthangingB">&#8226; <a href="ch12.html#ch12lev1sec3">Numerical Algorithms</a></p>
<p class="indenthangingB">&#8226; <a href="ch12.html#ch12lev1sec4">Complex Numbers</a></p>
<p class="indenthangingB">&#8226; <a href="ch12.html#ch12lev1sec5">Random Numbers</a></p>
<p class="indenthangingB">&#8226; <a href="ch12.html#ch12lev1sec6">Vector Arithmetic</a></p>
<p class="indenthangingB">&#8226; <a href="ch12.html#ch12lev1sec7">Numeric Limits</a></p>
<p class="indenthangingB">&#8226; <a href="ch12.html#ch12lev1sec8">Advice</a></p>
<div class="heading">
<h3 id="ch12lev1sec1">12.1. Introduction</h3>
<p class="noindent">C++ was not designed primarily with numeric computation in mind. However, numeric computation typically occurs in the context of other work &#8211; such as database access, networking, instrument control, graphics, simulation, and financial analysis &#8211; so C++ becomes an attractive vehicle for computations that are part of a larger system. Furthermore, numeric methods have come a long way from being simple loops over vectors of floating-point numbers. Where more complex data structures are needed as part of a computation, C++&#8217;s strengths become relevant. The net effect is that C++ is widely used for scientific, engineering, financial, and other computation involving sophisticated numerics. Consequently, facilities and techniques supporting such computation have emerged. This chapter describes the parts of the standard library that support numerics.</p>
</div>
<div class="heading">
<h3 id="ch12lev1sec2"><a id="page_134"/>12.2. Mathematical Functions</h3>
<p class="noindent">In <span class="EmpStrong">&lt;cmath&gt;</span>, we find the <em>standard mathematical functions</em>, such as <span class="EmpStrong">sqrt()</span>, <span class="EmpStrong">log()</span>, and <span class="EmpStrong">sin()</span> for arguments of type <span class="EmpStrong">float</span>, <span class="EmpStrong">double</span>, and <span class="EmpStrong">long double</span>:</p>
</div>
<div class="image"><img src="graphics/134tab01.jpg" alt="Image"/></div>
<p class="noindent">The versions for <span class="EmpStrong">complex</span> (&#167;<a href="ch12.html#ch12lev1sec4">12.4</a>) are found in <span class="EmpStrong">&lt;complex&gt;</span>. For each function, the return type is the same as the argument type.</p>
<p class="indent">Errors are reported by setting <span class="EmpStrong">errno</span> from <span class="EmpStrong">&lt;cerrno&gt;</span> to <span class="EmpStrong">EDOM</span> for a domain error and to <span class="EmpStrong">ERANGE</span> for a range error. For example:</p>
<p class="codelink"><a id="p134pro01" href="ch12_images.html#p134pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">void f()</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">errno = 0; //</span> <span class="EmpItalic">clear old error state</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">sqrt(-1);</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">if (errno==EDOM)</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">cerr &lt;&lt; "sqrt() not defined for negative argument";</span><br/><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">errno = 0; //</span> <span class="EmpItalic">clear old error state</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">pow(numeric_limits&lt;double&gt;::max(),2);</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">if (errno == ERANGE)</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">cerr &lt;&lt; "result of pow() too large to represent as a double";</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">A few more mathematical functions are found in <span class="EmpStrong">&lt;cstdlib&gt;</span> and there is a separate ISO standard for <em>special mathematical functions</em> [C++Math,2010].</p>
<div class="heading">
<h3 id="ch12lev1sec3"><a id="page_135"/>12.3. Numerical Algorithms</h3>
<p class="noindent">In <span class="EmpStrong">&lt;numeric&gt;</span>, we find a small set of generalized numerical algorithms, such as <span class="EmpStrong">accumulate()</span>.</p>
</div>
<div class="image"><img src="graphics/135tab01.jpg" alt="Image"/></div>
<p class="noindent">These algorithms generalize common operations such as computing a sum by letting them apply to all kinds of sequences and by making the operation applied to elements of those sequences a parameter. For each algorithm, the general version is supplemented by a version applying the most common operator for that algorithm. For example:</p>
<p class="codelink"><a id="p135pro01" href="ch12_images.html#p135pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">void f()</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">list&lt;double&gt; lst {1, 2, 3, 4, 5, 9999.99999};</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">auto s = accumulate(lst.begin(),lst.end(),0.0); //</span> <span class="EmpItalic">calculate the sum</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">cout &lt;&lt; s &lt;&lt; '\n';</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">print 10014.9999</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">These algorithms work for every standard-library sequence and can have operations supplied as arguments (&#167;<a href="ch12.html#ch12lev1sec3">12.3</a>).</p>
<div class="heading">
<h3 id="ch12lev1sec4">12.4. Complex Numbers</h3>
<p class="noindent">The standard library supports a family of complex number types along the lines of the <span class="EmpStrong">complex</span> class described in &#167;<a href="ch04.html#ch04lev2sec1">4.2.1</a>. To support complex numbers where the scalars are single-precision floating-point numbers (<span class="EmpStrong">float</span>s), double-precision floating-point numbers (<span class="EmpStrong">double</span>s), etc., the standard library <span class="EmpStrong">complex</span> is a template:</p>
</div>
<p class="codelink"><a id="p135pro02" href="ch12_images.html#p135pro02a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">template&lt;typename Scalar&gt;</span><br/><span class="EmpStrong">class complex {</span><br/><span class="EmpStrong">public:</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">complex(const Scalar&#38; re ={}, const Scalar&#38; im ={});</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">...</span><br/><span class="EmpStrong">};</span></p>
<p class="noindent"><a id="page_136"/>The usual arithmetic operations and the most common mathematical functions are supported for complex numbers. For example:</p>
<p class="codelink"><a id="p136pro01" href="ch12_images.html#p136pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">void f(complex&lt;float&gt; fl, complex&lt;double&gt; db)</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">complex&lt;long double&gt; ld {fl+sqrt(db)};</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">db += fl*3;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">fl = pow(1/fl,2);</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">...</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">The <span class="EmpStrong">sqrt()</span> and <span class="EmpStrong">pow()</span> (exponentiation) functions are among the usual mathematical functions defined in <span class="EmpStrong">&lt;complex&gt;</span> (&#167;<a href="ch12.html#ch12lev1sec2">12.2</a>).</p>
<div class="heading">
<h3 id="ch12lev1sec5">12.5. Random Numbers</h3>
<p class="noindent">Random numbers are useful in many contexts, such as testing, games, simulation, and security. The diversity of application areas is reflected in the wide selection of random number generators provided by the standard library in <span class="EmpStrong">&lt;random&gt;</span>. A random number generator consists of two parts:</p>
</div>
<p class="indent">[1] an <em>engine</em> that produces a sequence of random or pseudo-random values.</p>
<p class="indent">[2] a <em>distribution</em> that maps those values into a mathematical distribution in a range.</p>
<p class="noindent">Examples of distributions are <span class="EmpStrong">uniform_int_distribution</span> (where all integers produced are equally likely), <span class="EmpStrong">normal_distribution</span> (&#8220;the bell curve&#8221;), and <span class="EmpStrong">exponential_distribution</span> (exponential growth); each for some specified range. For example:</p>
<p class="codelink"><a id="p136pro02" href="ch12_images.html#p136pro02a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">using my_engine = default_random_engine;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">type of engine</span><br/><span class="EmpStrong">using my_distribution = uniform_int_distribution&lt;&gt;;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">type of distribution</span><br/><br/><span class="EmpStrong">my_engine re {};</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">the default engine</span><br/><span class="EmpStrong">my_distribution one_to_six {1,6};</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">distribution that maps to the ints 1..6</span><br/><span class="EmpStrong">auto die = bind(one_to_six,re);</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">make a generator</span><br/><br/><span class="EmpStrong">int x = die();</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">roll the die: x becomes a value in [1:6]</span></p>
<p class="noindent">The standard-library function <span class="EmpStrong">bind()</span> makes a function object that will invoke its first argument (here, <span class="EmpStrong">one_to_six</span>) given its second argument (here, <span class="EmpStrong">re</span>) as its argument (&#167;<a href="ch11.html#ch11lev2sec5">11.5.1</a>). Thus a call <span class="EmpStrong">die()</span> is equivalent to a call <span class="EmpStrong">one_to_six(re)</span>.</p>
<p class="indent">Thanks to its uncompromising attention to generality and performance one expert has deemed the standard-library random number component &#8220;what every random number library wants to be when it grows up.&#8221; However, it can hardly be deemed &#8220;novice friendly.&#8221; The <span class="EmpStrong">using</span> statements makes what is being done a bit more obvious. Instead, I could just have written:</p>
<p class="codelink"><a id="p136pro03" href="ch12_images.html#p136pro03a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">auto die = bind(uniform_int_distribution&lt;&gt;{1,6}, default_random_engine{});</span></p>
<p class="noindent">Which version is the more readable depends entirely on the context and the reader.</p>
<p class="indent">For novices (of any background) the fully general interface to the random number library can be a serious obstacle. A simple uniform random number generator is often sufficient to get started. For example:</p>
<p class="codelink"><a id="page_137"/><a id="p137pro01" href="ch12_images.html#p137pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">Rand_int rnd {1,10};</span>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">make a random number generator for [1:10]</span><br/><span class="EmpStrong">int x = rnd();</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">x is a number in [1:10]</span></p>
<p class="noindent">So, how could we get that? We have to get something like <span class="EmpStrong">die()</span> inside a class <span class="EmpStrong">Rand_int</span>:</p>
<p class="codelink"><a id="p137pro02" href="ch12_images.html#p137pro02a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">class Rand_int {</span><br/><span class="EmpStrong">public:</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">Rand_int(int low, int high) :dist{low,high} { }</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">int operator()() { return dist(re); }</span>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">draw an int</span><br/><span class="EmpStrong">private:</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">default_random_engine re;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">uniform_int_distribution&lt;&gt; dist;</span><br/><span class="EmpStrong">};</span></p>
<p class="noindent">That definition is still &#8220;expert level,&#8221; but the <em>use</em> of <span class="EmpStrong">Rand_int()</span> is manageable in the first week of a C++ course for novices. For example:</p>
<p class="codelink"><a id="p137pro03" href="ch12_images.html#p137pro03a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">int main()</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">constexpr int max = 8;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">Rand_int rnd {0,max};</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">make a uniform random number generator</span><br/><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">vector&lt;int&gt; histogram(max+1);</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">make a vector of appropriate size</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">for (int i=0; i!=200; ++i)</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">++histogram[rnd()];</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">fill histogram with the frequencies of numbers [0:max]</span><br/><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">for (int i = 0; i!=histogram.size(); ++i) {</span>&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">write out a bar graph</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">cout &lt;&lt; i &lt;&lt; '\t';</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">for (int j=0; j!=histogram[i]; ++j) cout &lt;&lt; '</span>*<span class="EmpStrong">';</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">cout &lt;&lt; endl;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">}</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">The output is a (reassuringly boring) uniform distribution (with reasonable statistical variation):</p>
<p class="codelink"><a id="p137pro04" href="ch12_images.html#p137pro04a">Click here to view code image</a></p>
<p class="pre">
<span class="EmpStrong">0</span>&#160;&#160;&#160;&#160;*********************<br/><span class="EmpStrong">1</span>&#160;&#160;&#160;&#160;****************<br/><span class="EmpStrong">2</span>&#160;&#160;&#160;&#160;*******************<br/><span class="EmpStrong">3</span>&#160;&#160;&#160;&#160;********************<br/><span class="EmpStrong">4</span>&#160;&#160;&#160;&#160;****************<br/><span class="EmpStrong">5</span>&#160;&#160;&#160;&#160;***********************<br/><span class="EmpStrong">6</span>&#160;&#160;&#160;&#160;**************************<br/><span class="EmpStrong">7</span>&#160;&#160;&#160;&#160;***********<br/><span class="EmpStrong">8</span>&#160;&#160;&#160;&#160;**********************<br/><span class="EmpStrong">9</span>&#160;&#160;&#160;&#160;*************************</p>
<p class="noindent">There is no standard graphics library for C++, so I use &#8220;ASCII graphics.&#8221; Obviously, there are lots of open source and commercial graphics and GUI libraries for C++, but in this book I restrict myself to ISO standard facilities.</p>
<div class="heading">
<h3 id="ch12lev1sec6"><a id="page_138"/>12.6. Vector Arithmetic</h3>
<p class="noindent">The <span class="EmpStrong">vector</span> described in &#167;<a href="ch09.html#ch09lev1sec2">9.2</a> was designed to be a general mechanism for holding values, to be flexible, and to fit into the architecture of containers, iterators, and algorithms. However, it does not support mathematical vector operations. Adding such operations to <span class="EmpStrong">vector</span> would be easy, but its generality and flexibility precludes optimizations that are often considered essential for serious numerical work. Consequently, the standard library provides (in <span class="EmpStrong">&lt;valarray&gt;</span>) a <span class="EmpStrong">vector</span>-like template, called <span class="EmpStrong">valarray</span>, that is less general and more amenable to optimization for numerical computation:</p>
</div>
<p class="pre"><span class="EmpStrong">template&lt;typename T&gt;</span><br/><span class="EmpStrong">class valarray {</span><br/>&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">...</span><br/><span class="EmpStrong">};</span></p>
<p class="noindent">The usual arithmetic operations and the most common mathematical functions are supported for <span class="EmpStrong">valarray</span>s. For example:</p>
<p class="codelink"><a id="p138pro01" href="ch12_images.html#p138pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">void f(valarray&lt;double&gt;&#38; a1, valarray&lt;double&gt;&#38; a2)</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">valarray&lt;double&gt; a = a1*3.14+a2/a1;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">numeric array operators *, +, /, and =</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">a2 += a1*3.14;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">a = abs(a);</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">double d = a2[7];</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">...</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">For more details, see &#167;<a href="ch12.html#ch12lev1sec6">12.6</a>. In particular, <span class="EmpStrong">valarray</span> offers stride access to help implement multidimensional computations.</p>
<div class="heading">
<h3 id="ch12lev1sec7">12.7. Numeric Limits</h3>
<p class="noindent">In <span class="EmpStrong">&lt;limits&gt;</span>, the standard library provides classes that describe the properties of built-in types &#8211; such as the maximum exponent of a <span class="EmpStrong">float</span> or the number of bytes in an <span class="EmpStrong">int</span>; see &#167;<a href="ch12.html#ch12lev1sec7">12.7</a>. For example, we can assert that a <span class="EmpStrong">char</span> is signed:</p>
</div>
<p class="codelink"><a id="p138pro02" href="ch12_images.html#p138pro02a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">static_assert(numeric_limits&lt;char&gt;::is_signed,"unsigned characters!");</span><br/><span class="EmpStrong">static_assert(100000&lt;numeric_limits&lt;int&gt;::max(),"small ints!");</span></p>
<p class="noindent">Note that the second assert (only) works because <span class="EmpStrong">numeric_limits&lt;int&gt;::max()</span> is a <span class="EmpStrong">constexpr</span> function (&#167;<a href="ch01.html#ch01lev1sec7">1.7</a>).</p>
<div class="heading">
<h3 id="ch12lev1sec8">12.8. Advice</h3>
<p class="ref">[1] The material in this chapter roughly corresponds to what is described in much greater detail in Chapter 40 of [Stroustrup,2013].</p>
</div>
<p class="ref">[2] Numerical problems are often subtle. If you are not 100% certain about the mathematical aspects of a numerical problem, either take expert advice, experiment, or do both; &#167;<a href="ch12.html#ch12lev1sec1">12.1</a>.</p>
<p class="ref"><a id="page_139"/>[3] Don&#8217;t try to do serious numeric computation using only the bare language; use libraries; &#167;<a href="ch12.html#ch12lev1sec1">12.1</a>.</p>
<p class="ref">[4] Consider <span class="EmpStrong">accumulate()</span>, <span class="EmpStrong">inner_product()</span>, <span class="EmpStrong">partial_sum()</span>, and <span class="EmpStrong">adjacent_difference()</span> before you write a loop to compute a value from a sequence; &#167;<a href="ch12.html#ch12lev1sec3">12.3</a>.</p>
<p class="ref">[5] Use <span class="EmpStrong">std::complex</span> for complex arithmetic; &#167;<a href="ch12.html#ch12lev1sec4">12.4</a>.</p>
<p class="ref">[6] Bind an engine to a distribution to get a random number generator; &#167;<a href="ch12.html#ch12lev1sec5">12.5</a>.</p>
<p class="ref">[7] Be careful that your random numbers are sufficiently random; &#167;<a href="ch12.html#ch12lev1sec5">12.5</a>.</p>
<p class="ref">[8] Use <span class="EmpStrong">valarray</span> for numeric computation when run-time efficiency is more important than flexibility with respect to operations and element types; &#167;<a href="ch12.html#ch12lev1sec6">12.6</a>.</p>
<p class="ref">[9] Properties of numeric types are accessible through <span class="EmpStrong">numeric_limits</span>; &#167;<a href="ch12.html#ch12lev1sec7">12.7</a>.</p>
<p class="ref1">[10] Use <span class="EmpStrong">numeric_limits</span> to check that the numeric types are adequate for their use; &#167;<a href="ch12.html#ch12lev1sec7">12.7</a>.</p>
</body>
</html>
