<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>1. The Basics</title>
<link rel="stylesheet" type="text/css" href="9780133549003.css"/>
</head>
<body>
<h2 id="ch01"><a id="page_1"/><span class="pd_blue">1.</span> The Basics</h2>
<p class="blockquote"><em>The first thing we do, let&#8217;s<br/>kill all the language lawyers.</em></p>
<p class="attribution"><em>&#8211; Henry VI, Part II</em></p>
<p class="indenthangingB">&#8226; <a href="ch01.html#ch01lev1sec1">Introduction</a></p>
<p class="indenthangingB">&#8226; <a href="ch01.html#ch01lev1sec2">Programs</a></p>
<p class="indenthangingB">&#8226; <a href="ch01.html#ch01lev1sec3">Hello, World!</a></p>
<p class="indenthangingB">&#8226; <a href="ch01.html#ch01lev1sec4">Functions</a></p>
<p class="indenthangingB">&#8226; <a href="ch01.html#ch01lev1sec5">Types, Variables, and Arithmetic</a></p>
<p class="indenthangingB">&#8226; <a href="ch01.html#ch01lev1sec6">Scope and Lifetime</a></p>
<p class="indenthangingB">&#8226; <a href="ch01.html#ch01lev1sec7">Constants</a></p>
<p class="indenthangingB">&#8226; <a href="ch01.html#ch01lev1sec8">Pointers, Arrays, and References</a></p>
<p class="indenthangingB">&#8226; <a href="ch01.html#ch01lev1sec9">Tests</a></p>
<p class="indenthangingB">&#8226; <a href="ch01.html#ch01lev1sec10">Advice</a></p>
<div class="heading">
<h3 id="ch01lev1sec1">1.1. Introduction</h3>
<p class="noindent">This chapter informally presents the notation of C++, C++&#8217;s model of memory and computation, and the basic mechanisms for organizing code into a program. These are the language facilities supporting the styles most often seen in C and sometimes called <em>procedural programming</em>.</p>
</div>
<div class="heading">
<h3 id="ch01lev1sec2">1.2. Programs</h3>
<p class="noindent">C++ is a compiled language. For a program to run, its source text has to be processed by a compiler, producing object files, which are combined by a linker yielding an executable program. A C++ program typically consists of many source code files (usually simply called <em>source files</em>).</p>
</div>
<div class="image"><a id="page_2"/><img src="graphics/002fig01.jpg" alt="Image"/></div>
<p class="noindent">An executable program is created for a specific hardware/system combination; it is not portable, say, from a Mac to a Windows PC. When we talk about portability of C++ programs, we usually mean portability of source code; that is, the source code can be successfully compiled and run on a variety of systems.</p>
<p class="indent">The ISO C++ standard defines two kinds of entities:</p>
<p class="indenthangingB">&#8226; <em>Core language features</em>, such as built-in types (e.g., <span class="EmpStrong">char</span> and <span class="EmpStrong">int</span>) and loops (e.g., <span class="EmpStrong">for</span>-statements and <span class="EmpStrong">while</span>-statements)</p>
<p class="indenthangingB">&#8226; <em>Standard-library components</em>, such as containers (e.g., <span class="EmpStrong">vector</span> and <span class="EmpStrong">map</span>) and I/O operations (e.g., <span class="EmpStrong">&lt;&lt;</span> and <span class="EmpStrong">getline()</span>)</p>
<p class="noindent">The standard-library components are perfectly ordinary C++ code provided by every C++ implementation. That is, the C++ standard library can be implemented in C++ itself (and is with very minor uses of machine code for things such as thread context switching). This implies that C++ is sufficiently expressive and efficient for the most demanding systems programming tasks.</p>
<p class="indent">C++ is a statically typed language. That is, the type of every entity (e.g., object, value, name, and expression) must be known to the compiler at its point of use. The type of an object determines the set of operations applicable to it.</p>
<div class="heading">
<h3 id="ch01lev1sec3">1.3. Hello, World!</h3>
<p class="noindent">The minimal C++ program is</p>
</div>
<p class="codelink"><a id="p002pro01" href="ch01_images.html#p002pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">int main() { }</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">the minimal C++ program</span></p>
<p class="noindent">This defines a function called <span class="EmpStrong">main</span>, which takes no arguments and does nothing.</p>
<p class="indent">Curly braces, <span class="EmpStrong">{ }</span>, express grouping in C++. Here, they indicate the start and end of the function body. The double slash, <span class="EmpStrong">//</span>, begins a comment that extends to the end of the line. A comment is for the human reader; the compiler ignores comments.</p>
<p class="indent">Every C++ program must have exactly one global function named <span class="EmpStrong">main()</span>. The program starts by executing that function. The <span class="EmpStrong">int</span> value returned by <span class="EmpStrong">main()</span>, if any, is the program&#8217;s return value to &#8220;the system.&#8221; If no value is returned, the system will receive a value indicating successful completion. A nonzero value from <span class="EmpStrong">main()</span> indicates failure. Not every operating system and execution environment make use of that return value: Linux/Unix-based environments often do, but Windows-based environments rarely do.</p>
<p class="indent">Typically, a program produces some output. Here is a program that writes <span class="EmpStrong">Hello, World!</span>:</p>
<p class="codelink"><a id="p002pro02" href="ch01_images.html#p002pro02a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">#include &lt;iostream&gt;</span><br/><br/><span class="EmpStrong">int main()</span><br/><span class="EmpStrong">{</span><br/><span class="EmpStrong">&#160;&#160;&#160;&#160;&#160;std::cout &lt;&lt; "Hello, World!\n";</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent"><a id="page_3"/>The line <span class="EmpStrong">#include &lt;iostream&gt;</span> instructs the compiler to <em>include</em> the declarations of the standard stream I/O facilities as found in <span class="EmpStrong">iostream</span>. Without these declarations, the expression</p>
<p class="pre"><span class="EmpStrong">std::cout &lt;&lt; "Hello, World!\n"</span></p>
<p class="noindent">would make no sense. The operator <span class="EmpStrong">&lt;&lt;</span> (&#8220;put to&#8221;) writes its second argument onto its first. In this case, the string literal <span class="EmpStrong">"Hello, World!\n"</span> is written onto the standard output stream <span class="EmpStrong">std::cout</span>. A string literal is a sequence of characters surrounded by double quotes. In a string literal, the backslash character <span class="EmpStrong">\</span> followed by another character denotes a single &#8220;special character.&#8221; In this case, <span class="EmpStrong">\n</span> is the newline character, so that the characters written are <span class="EmpStrong">Hello, World!</span> followed by a newline.</p>
<p class="indent">The <span class="EmpStrong">std::</span> specifies that the name <span class="EmpStrong">cout</span> is to be found in the standard-library namespace (&#167;<a href="ch03.html#ch03lev1sec3">3.3</a>). I usually leave out the <span class="EmpStrong">std::</span> when discussing standard features; &#167;<a href="ch03.html#ch03lev1sec3">3.3</a> shows how to make names from a namespace visible without explicit qualification.</p>
<p class="indent">Essentially all executable code is placed in functions and called directly or indirectly from <span class="EmpStrong">main()</span>. For example:</p>
<p class="codelink"><a id="p003pro01" href="ch01_images.html#p003pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">#include &lt;iostream&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">include ("import") the declarations for the I/O stream library</span><br/><br/><span class="EmpStrong">using namespace std;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">make names from std visible without std:: (&#167;3.3)</span><br/><br/><span class="EmpStrong">double square(double x)</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">square a double precision floating-point number</span><br/><span class="EmpStrong">{</span><br/><span class="EmpStrong">&#160;&#160;&#160;&#160;&#160;return x*x;</span><br/><span class="EmpStrong">}</span><br/><br/><span class="EmpStrong">void print_square(double x)</span><br/><span class="EmpStrong">{</span><br/><span class="EmpStrong">&#160;&#160;&#160;&#160;&#160;cout &lt;&lt; "the square of " &lt;&lt; x &lt;&lt; " is " &lt;&lt; square(x) &lt;&lt; "\n";</span><br/><span class="EmpStrong">}</span><br/><br/><span class="EmpStrong">int main()</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">print_square(1.234);</span>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">print: the square of 1.234 is 1.52276</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">A &#8220;return type&#8221; <span class="EmpStrong">void</span> indicates that a function does not return a value.</p>
<div class="heading">
<h3 id="ch01lev1sec4">1.4. Functions</h3>
<p class="noindent">The main way of getting something done in a C++ program is to call a function to do it. Defining a function is the way you specify how an operation is to be done. A function cannot be called unless it has been previously declared.</p>
</div>
<p class="indent">A function declaration gives the name of the function, the type of the value returned (if any), and the number and types of the arguments that must be supplied in a call. For example:</p>
<p class="codelink"><a id="p003pro02" href="ch01_images.html#p003pro02a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">Elem* next_elem();</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">no argument; return a pointer to Elem (an Elem*)</span><br/><span class="EmpStrong">void exit(int);</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">int argument; return nothing</span><br/><span class="EmpStrong">double sqrt(double);</span>&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">double argument; return a double</span></p>
<p class="noindent"><a id="page_4"/>In a function declaration, the return type comes before the name of the function and the argument types after the name enclosed in parentheses.</p>
<p class="indent">The semantics of argument passing are identical to the semantics of copy initialization. That is, argument types are checked and implicit argument type conversion takes place when necessary (&#167;<a href="ch01.html#ch01lev1sec5">1.5</a>). For example:</p>
<p class="codelink"><a id="p004pro01" href="ch01_images.html#p004pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">double s2 = sqrt(2);</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">call sqrt() with the argument double{2}</span><br/><span class="EmpStrong">double s3 = sqrt("three");</span>&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">error: sqrt() requires an argument of type double</span></p>
<p class="noindent">The value of such compile-time checking and type conversion should not be underestimated.</p>
<p class="indent">A function declaration may contain argument names. This can be a help to the reader of a program, but unless the declaration is also a function definition, the compiler simply ignores such names. For example:</p>
<p class="codelink"><a id="p004pro02" href="ch01_images.html#p004pro02a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">double sqrt(double d);</span>&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">return the square root of d</span><br/><span class="EmpStrong">double square(double);</span>&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">return the square of the argument</span></p>
<p class="noindent">The type of a function consists of the return type and the argument types. For class member functions (&#167;<a href="ch02.html#ch02lev1sec3">2.3</a>, &#167;<a href="ch04.html#ch04lev2sec1">4.2.1</a>), the name of the class is also part of the function type. For example:</p>
<p class="codelink"><a id="p004pro03" href="ch01_images.html#p004pro03a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">double get(const vector&lt;double&gt;&#38; vec, int index);</span>&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">type: double(const vector&lt;double&gt;&#38;,int)</span><br/><span class="EmpStrong">char&#38; String::operator[](int index);</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">type: char&#38; String::(int)</span></p>
<p class="noindent">We want our code to be comprehensible, because that is the first step on the way to maintainability. The first step to comprehensibility is to break computational tasks into comprehensible chunks (represented as functions and classes) and name those. Such functions then provide the basic vocabulary of computation, just as the types (built-in and user-defined) provide the basic vocabulary of data. The C++ standard algorithms (e.g., <span class="EmpStrong">find</span>, <span class="EmpStrong">sort</span>, and <span class="EmpStrong">iota</span>) provide a good start (<a href="ch10.html#ch10">Chapter 10</a>). Next, we can compose functions representing common or specialized tasks into larger computations.</p>
<p class="indent">The number of errors in code correlates strongly with the amount of code and the complexity of the code. Both problems can be addressed by using more and shorter functions. Using a function to do a specific task often saves us from writing a specific piece of code in the middle of other code; making it a function forces us to name the activity and document its dependencies.</p>
<p class="indent">If two functions are defined with the same name, but with different argument types, the compiler will choose the most appropriate function to invoke for each call. For example:</p>
<p class="codelink"><a id="p004pro04" href="ch01_images.html#p004pro04a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">void print(int);</span>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">takes an integer argument</span><br/><span class="EmpStrong">void print(double);</span>&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">takes a floating-point argument</span><br/><span class="EmpStrong">void print(string);</span>&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">takes a string argument</span><br/><br/><span class="EmpStrong">void user()</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">print(42);</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">calls print(int)</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">print(9.65);</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">calls print(double)</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">print("D is for Digital"); //</span> <span class="EmpItalic">calls print(string)</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">If two alternative functions could be called, but neither is better than the other, the call is deemed ambiguous and the compiler gives an error. For example:</p>
<p class="codelink"><a id="page_5"/><a id="p005pro01" href="ch01_images.html#p005pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">void print(int,double);</span><br/><span class="EmpStrong">void print(double,int);</span><br/><br/><span class="EmpStrong">void user2()</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">print(0,0);</span>&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">error: ambiguous</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">This is known as function overloading and is one of the essential parts of generic programming (&#167;<a href="ch05.html#ch05lev1sec4">5.4</a>). When a function is overloaded, each function of the same name should implement the same semantics. The <span class="EmpStrong">print()</span> functions are an example of this; each <span class="EmpStrong">print()</span> prints its argument.</p>
<div class="heading">
<h3 id="ch01lev1sec5">1.5. Types, Variables, and Arithmetic</h3>
<p class="noindent">Every name and every expression has a type that determines the operations that may be performed on it. For example, the declaration</p>
</div>
<p class="pre"><span class="EmpStrong">int inch;</span></p>
<p class="noindent">specifies that <span class="EmpStrong">inch</span> is of type <span class="EmpStrong">int</span>; that is, <span class="EmpStrong">inch</span> is an integer variable.</p>
<p class="indent">A <em>declaration</em> is a statement that introduces a name into the program. It specifies a type for the named entity:</p>
<p class="indenthangingB">&#8226; A <em>type</em> defines a set of possible values and a set of operations (for an object).</p>
<p class="indenthangingB">&#8226; An <em>object</em> is some memory that holds a value of some type.</p>
<p class="indenthangingB">&#8226; A <em>value</em> is a set of bits interpreted according to a type.</p>
<p class="indenthangingB">&#8226; A <em>variable</em> is a named object.</p>
<p class="noindent">C++ offers a variety of fundamental types. For example:</p>
<p class="codelink"><a id="p005pro02" href="ch01_images.html#p005pro02a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">bool</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">Boolean, possible values are true and false</span><br/><span class="EmpStrong">char</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">character, for example, 'a', 'z', and '9'</span><br/><span class="EmpStrong">int</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">integer, for example, -273, 42, and 1066</span><br/><span class="EmpStrong">double</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">double-precision floating-point number, for example, -273.15, 3.14, and 299793.0</span><br/><span class="EmpStrong">unsigned</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">non-negative integer, for example, 0, 1, and 999</span></p>
<p class="noindent">Each fundamental type corresponds directly to hardware facilities and has a fixed size that determines the range of values that can be stored in it:</p>
<div class="image"><img src="graphics/005fig01.jpg" alt="Image"/></div>
<p class="noindent">A <span class="EmpStrong">char</span> variable is of the natural size to hold a character on a given machine (typically an 8-bit byte), and the sizes of other types are quoted in multiples of the size of a <span class="EmpStrong">char</span>. The size of a type is implementation-defined (i.e., it can vary among different machines) and can be obtained by the <a id="page_6"/><span class="EmpStrong">sizeof</span> operator; for example, <span class="EmpStrong">sizeof(char)</span> equals <span class="EmpStrong">1</span> and <span class="EmpStrong">sizeof(int)</span> is often <span class="EmpStrong">4</span>.</p>
<p class="indent">The arithmetic operators can be used for appropriate combinations of these types:</p>
<p class="codelink"><a id="p006pro01" href="ch01_images.html#p006pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">x+y</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">plus</span><br/><span class="EmpStrong">+x</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">unary plus</span><br/><span class="EmpStrong">x-y</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">minus</span><br/><span class="EmpStrong">-x</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">unary minus</span><br/><span class="EmpStrong">x*y</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">multiply</span><br/><span class="EmpStrong">x/y</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">divide</span><br/><span class="EmpStrong">x%y</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">remainder (modulus) for integers</span></p>
<p class="noindent">So can the comparison operators:</p>
<p class="codelink"><a id="p006pro02" href="ch01_images.html#p006pro02a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">x==y</span>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">equal</span><br/><span class="EmpStrong">x!=y</span>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">not equal</span><br/><span class="EmpStrong">x&lt;y</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">less than</span><br/><span class="EmpStrong">x&gt;y</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">greater than</span><br/><span class="EmpStrong">x&lt;=y</span>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">less than or equal</span><br/><span class="EmpStrong">x&gt;=y</span>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">greater than or equal</span></p>
<p class="noindent">Furthermore, logical operators are provided:</p>
<p class="codelink"><a id="p006pro03" href="ch01_images.html#p006pro03a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">x&#38;y</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">bitwise and</span><br/><span class="EmpStrong">x|y</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">bitwise or</span><br/><span class="EmpStrong">x&#94;y</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">bitwise exclusive or</span><br/><span class="EmpStrong"><sup>~</sup>x</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">bitwise complement</span><br/><span class="EmpStrong">x&#38;&#38;y</span>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">logical and</span><br/><span class="EmpStrong">x||y</span>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">logical or</span></p>
<p class="noindent">A bitwise logical operator yield a result of their operand type for which the operation has been performed on each bit. The logical operators <span class="EmpStrong">&#38;&#38;</span> and <span class="EmpStrong">||</span> simply return <span class="EmpStrong">true</span> or <span class="EmpStrong">false</span> depending on the values of their operands.</p>
<p class="indent">In assignments and in arithmetic operations, C++ performs all meaningful conversions between the basic types so that they can be mixed freely:</p>
<p class="codelink"><a id="p006pro04" href="ch01_images.html#p006pro04a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">void some_function()</span>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">function that doesn't return a value</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">double d = 2.2;</span>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">initialize floating-pointinitializefloating number</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">int i = 7;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">initialize integer</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">d = d+i;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">assign sum to d</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">i = d*i;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">assign product to i (truncating the double d*i to an int)</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">The conversions use in expressions are called <em>the usual arithmetic conversions</em> and aim to ensure that expressions are computed at the highest precision of its operands. For example, an addition of a <span class="EmpStrong">double</span> and an <span class="EmpStrong">int</span> is calculated using double-precision floating-point arithmetic.</p>
<p class="indent">Note that <span class="EmpStrong">=</span> is the assignment operator and <span class="EmpStrong">==</span> tests equality.</p>
<p class="indent">C++ offers a variety of notations for expressing initialization, such as the <span class="EmpStrong">=</span> used above, and a universal form based on curly-brace-delimited initializer lists:</p>
<p class="codelink"><a id="p006pro05" href="ch01_images.html#p006pro05a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">double d1 = 2.3;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">initialize d1 to 2.3</span><br/><span class="EmpStrong">double d2 {2.3};</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">initialize d2 to 2.3</span></p>
<p class="codelink"><a id="page_7"/><a id="p006pro06" href="ch01_images.html#p006pro06a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">complex&lt;double&gt; z = 1;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">a complex number with double-precision floating-point scalars</span><br/><span class="EmpStrong">complex&lt;double&gt; z2 {d1,d2};</span><br/><span class="EmpStrong">complex&lt;double&gt; z3 = {1,2};</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">the = is optional with { ... }</span><br/><br/><span class="EmpStrong">vector&lt;int&gt; v {1,2,3,4,5,6};</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">a vector of ints</span></p>
<p class="noindent">The <span class="EmpStrong">=</span> form is traditional and dates back to C, but if in doubt, use the general <span class="EmpStrong">{}</span>-list form. If nothing else, it saves you from conversions that lose information:</p>
<p class="codelink"><a id="p007pro01" href="ch01_images.html#p007pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">int i1 = 7.2;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">i1 becomes 7 (surprise?)</span><br/><span class="EmpStrong">int i2 {7.2};</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">error: floating-point to integer conversion</span><br/><span class="EmpStrong">int i3 = {7.2};</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">error: floating-point to integer conversion (the = is redundant)</span></p>
<p class="noindent">Unfortunately, conversions that lose information, <em>narrowing conversions</em>, such as <span class="EmpStrong">double</span> to <span class="EmpStrong">int</span> and <span class="EmpStrong">int</span> to <span class="EmpStrong">char</span> are allowed and implicitly applied. The problems caused by implicit narrowing conversions is a price paid for C compatibility (&#167;<a href="ch14.html#ch14lev1sec3">14.3</a>).</p>
<p class="indent">A constant (&#167;<a href="ch01.html#ch01lev1sec7">1.7</a>) cannot be left uninitialized and a variable should only be left uninitialized in extremely rare circumstances. Don&#8217;t introduce a name until you have a suitable value for it. User-defined types (such as <span class="EmpStrong">string</span>, <span class="EmpStrong">vector</span>, <span class="EmpStrong">Matrix</span>, <span class="EmpStrong">Motor_controller</span>, and <span class="EmpStrong">Orc_warrior</span>) can be defined to be implicitly initialized (&#167;<a href="ch04.html#ch04lev2sec1">4.2.1</a>).</p>
<p class="indent">When defining a variable, you don&#8217;t actually need to state its type explicitly when it can be deduced from the initializer:</p>
<p class="codelink"><a id="p007pro02" href="ch01_images.html#p007pro02a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">auto b = true;</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">a bool</span><br/><span class="EmpStrong">auto ch = 'x';</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">a char</span><br/><span class="EmpStrong">auto i = 123;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">an int</span><br/><span class="EmpStrong">auto d = 1.2;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">a double</span><br/><span class="EmpStrong">auto z = sqrt(y);</span>&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">z has the type of whatever sqrt(y) returns</span></p>
<p class="noindent">With <span class="EmpStrong">auto</span>, we use the <span class="EmpStrong">=</span> because there is no potentially troublesome type conversion involved.</p>
<p class="indent">We use <span class="EmpStrong">auto</span> where we don&#8217;t have a specific reason to mention the type explicitly. &#8220;Specific reasons&#8221; include:</p>
<p class="indenthangingB">&#8226; The definition is in a large scope where we want to make the type clearly visible to readers of our code.</p>
<p class="indenthangingB">&#8226; We want to be explicit about a variable&#8217;s range or precision (e.g., <span class="EmpStrong">double</span> rather than <span class="EmpStrong">float</span>).</p>
<p class="noindent">Using <span class="EmpStrong">auto</span>, we avoid redundancy and writing long type names. This is especially important in generic programming where the exact type of an object can be hard for the programmer to know and the type names can be quite long (&#167;<a href="ch10.html#ch10lev1sec2">10.2</a>).</p>
<p class="indent">In addition to the conventional arithmetic and logical operators, C++ offers more specific operations for modifying a variable:</p>
<p class="codelink"><a id="p007pro03" href="ch01_images.html#p007pro03a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">x+=y</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">x = x+y</span><br/><span class="EmpStrong">++x</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">increment: x = x+1</span><br/><span class="EmpStrong">x-=y</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">x = x-y</span><br/><span class="EmpStrong">--x</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">decrement: x = x-1</span><br/><span class="EmpStrong">x*=y</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">scaling: x = x*y</span><br/><span class="EmpStrong">x/=y</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">scaling: x = x/y</span><br/><span class="EmpStrong">x%=y</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">x = x%y</span></p>
<p class="noindent">These operators are concise, convenient, and very frequently used.</p>
<div class="heading">
<h3 id="ch01lev1sec6"><a id="page_8"/>1.6. Scope and Lifetime</h3>
<p class="noindent">A declaration introduces its name into a scope:</p>
</div>
<p class="indenthangingB">&#8226; <em>Local scope</em>: A name declared in a function (&#167;<a href="ch01.html#ch01lev1sec4">1.4</a>) or lambda (&#167;<a href="ch05.html#ch05lev1sec5">5.5</a>) is called a <em>local name</em>. Its scope extends from its point of declaration to the end of the block in which its declaration occurs. A <em>block</em> is delimited by a <span class="EmpStrong">{ }</span> pair. Function argument names are considered local names.</p>
<p class="indenthangingB">&#8226; <em>Class scope</em>: A name is called a <em>member name</em> (or a <em>class member name</em>) if it is defined in a class (&#167;<a href="ch02.html#ch02lev1sec2">2.2</a>, &#167;<a href="ch02.html#ch02lev1sec3">2.3</a>, <a href="ch04.html#ch04">Chapter 4</a>), outside any function (&#167;<a href="ch01.html#ch01lev1sec4">1.4</a>), lambda (&#167;<a href="ch05.html#ch05lev1sec5">5.5</a>), or <span class="EmpStrong">enum class</span> (&#167;<a href="ch02.html#ch02lev1sec5">2.5</a>). Its scope extends from the opening <span class="EmpStrong">{</span> of its enclosing declaration to the end of that declaration.</p>
<p class="indenthangingB">&#8226; <em>Namespace scope</em>: A name is called a <em>namespace member name</em> if it is defined in a name-space (&#167;<a href="ch03.html#ch03lev1sec3">3.3</a>) outside any function, lambda (&#167;<a href="ch05.html#ch05lev1sec5">5.5</a>), class (&#167;<a href="ch02.html#ch02lev1sec2">2.2</a>, &#167;<a href="ch02.html#ch02lev1sec3">2.3</a>, <a href="ch04.html#ch04">Chapter 4</a>), or <span class="EmpStrong">enum class</span> (&#167;<a href="ch02.html#ch02lev1sec5">2.5</a>). Its scope extends from the point of declaration to the end of its namespace.</p>
<p class="noindent">A name not declared inside any other construct is called a <em>global name</em> and is said to be in the <em>global namespace</em>.</p>
<p class="indent">In addition, we can have objects without names, such as temporaries and objects created using <span class="EmpStrong">new</span> (&#167;<a href="ch04.html#ch04lev2sec2">4.2.2</a>). For example:</p>
<p class="codelink"><a id="p008pro01" href="ch01_images.html#p008pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">vector&lt;int&gt; vec;</span>&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">vec is global (a global vector of integers)</span><br/><br/><span class="EmpStrong">struct Record {</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">string name;</span>&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">name is a member (a string member)</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">...</span><br/><span class="EmpStrong">};</span><br/><br/><span class="EmpStrong">void fct(int arg)</span>&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">fct is global (a global function)</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">arg is local (an integer argument)</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">string motto {"Who dares win"};</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">motto is local</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">auto p = new Record{"Hume"};</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">p points to an unnamed Record (created by new)</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">...</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">An object must be constructed (initialized) before it is used and will be destroyed at the end of its scope. For a namespace object the point of destruction is the end of the program. For a member, the point of destruction is determined by the point of destruction of the object of which it is a member. An object created by <span class="EmpStrong">new</span> &#8220;lives&#8221; until destroyed by <span class="EmpStrong">delete</span> (&#167;<a href="ch04.html#ch04lev2sec2">4.2.2</a>).</p>
<div class="heading">
<h3 id="ch01lev1sec7">1.7. Constants</h3>
<p class="noindent">C++ supports two notions of immutability:</p>
</div>
<p class="indenthangingB">&#8226; <span class="EmpStrong">const</span>: meaning roughly &#8220;I promise not to change this value.&#8221; This is used primarily to specify interfaces, so that data can be passed to functions without fear of it being modified. The compiler enforces the promise made by <span class="EmpStrong">const</span>.</p>
<p class="indenthangingB"><a id="page_9"/>&#8226; <span class="EmpStrong">constexpr</span>: meaning roughly &#8220;to be evaluated at compile time.&#8221; This is used primarily to specify constants, to allow placement of data in read-only memory (where it is unlikely to be corrupted) and for performance.</p>
<p class="noindent">For example:</p>
<p class="codelink"><a id="p009pro01" href="ch01_images.html#p009pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">const int dmv = 17;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">dmv is a named constant</span><br/><span class="EmpStrong">int var = 17;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">var is not a constant</span><br/><br/><span class="EmpStrong">constexpr double max1 = 1.4*square(dmv);</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">OK if square(17) is a constant expression</span><br/><span class="EmpStrong">constexpr double max2 = 1.4*square(var);</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">error: var is not a constant expression</span><br/><span class="EmpStrong">const double max3 = 1.4*square(var);</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">OK, may be evaluated at run time</span><br/><br/><span class="EmpStrong">double sum(const vector&lt;double&gt;&#38;);</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">sum will not modify its argument (&#167;1.8)</span><br/><span class="EmpStrong">vector&lt;double&gt; v {1.2, 3.4, 4.5};</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">v is not a constant</span><br/><span class="EmpStrong">const double s1 = sum(v);</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">OK: evaluated at run time</span><br/><span class="EmpStrong">constexpr double s2 = sum(v);</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">error: sum(v) not constant expression</span></p>
<p class="noindent">For a function to be usable in a <em>constant expression</em>, that is, in an expression that will be evaluated by the compiler, it must be defined <span class="EmpStrong">constexpr</span>. For example:</p>
<p class="codelink"><a id="p009pro02" href="ch01_images.html#p009pro02a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">constexpr double square(double x) { return x</span>*<span class="EmpStrong">x; }</span></p>
<p class="noindent">To be <span class="EmpStrong">constexpr</span>, a function must be rather simple: just a <span class="EmpStrong">return</span>-statement computing a value. A <span class="EmpStrong">constexpr</span> function can be used for non-constant arguments, but when that is done the result is not a constant expression. We allow a <span class="EmpStrong">constexpr</span> function to be called with non-constant-expression arguments in contexts that do not require constant expressions, so that we don&#8217;t have to define essentially the same function twice: once for constant expressions and once for variables.</p>
<p class="indent">In a few places, constant expressions are required by language rules (e.g., array bounds (&#167;<a href="ch01.html#ch01lev1sec8">1.8</a>), case labels (&#167;<a href="ch01.html#ch01lev1sec9">1.9</a>), template value arguments (&#167;<a href="ch05.html#ch05lev1sec2">5.2</a>), and constants declared using <span class="EmpStrong">constexpr</span>). In other cases, compile-time evaluation is important for performance. Independently of performance issues, the notion of immutability (of an object with an unchangeable state) is an important design concern.</p>
<div class="heading">
<h3 id="ch01lev1sec8">1.8. Pointers, Arrays, and References</h3>
<p class="noindent">An array of elements of type <span class="EmpStrong">char</span> can be declared like this:</p>
</div>
<p class="codelink"><a id="p009pro03" href="ch01_images.html#p009pro03a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">char v[6];</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">array of 6 characters</span></p>
<p class="noindent">Similarly, a pointer can be declared like this:</p>
<p class="codelink"><a id="p009pro04" href="ch01_images.html#p009pro04a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">char* p;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">pointer to character</span></p>
<p class="noindent">In declarations, <span class="EmpStrong">[ ]</span> means &#8220;array of&#8221; and <code>*</code> means &#8220;pointer to.&#8221; All arrays have <span class="EmpStrong">0</span> as their lower bound, so <span class="EmpStrong">v</span> has six elements, <span class="EmpStrong">v[0]</span> to <span class="EmpStrong">v[5]</span>. The size of an array must be a constant expression (&#167;<a href="ch01.html#ch01lev1sec7">1.7</a>). A pointer variable can hold the address of an object of the appropriate type:</p>
<p class="codelink"><a id="p009pro05" href="ch01_images.html#p009pro05a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">char* p = &#38;v[3];</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">p points to v's fourth element</span><br/><span class="EmpStrong">char x = *p;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">*p is the object that p points to</span></p>
<p class="noindent"><a id="page_10"/>In an expression, prefix unary <span class="EmpStrong">*</span> means &#8220;contents of&#8221; and prefix unary <span class="EmpStrong">&#38;</span> means &#8220;address of.&#8221; We can represent the result of that initialized definition graphically:</p>
<div class="image"><img src="graphics/010fig01.jpg" alt="Image"/></div>
<p class="noindent">Consider copying ten elements from one array to another:</p>
<p class="codelink"><a id="p010pro01" href="ch01_images.html#p010pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">void copy_fct()</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">int v1[10] = {0,1,2,3,4,5,6,7,8,9};</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">int v2[10];</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">to become a copy of v1</span><br/><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">for (auto i=0; i!=10; ++i)</span>&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">copy elements</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">v2[i]=v1[i];</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">...</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">This <span class="EmpStrong">for</span>-statement can be read as &#8220;set <span class="EmpStrong">i</span> to zero; while <span class="EmpStrong">i</span> is not <span class="EmpStrong">10</span>, copy the <span class="EmpStrong">i</span>th element and increment <span class="EmpStrong">i</span>.&#8221; When applied to an integer variable, the increment operator, <span class="EmpStrong">++</span>, simply adds <span class="EmpStrong">1</span>. C++ also offers a simpler <span class="EmpStrong">for</span>-statement, called a range-<span class="EmpStrong">for</span>-statement, for loops that traverse a sequence in the simplest way:</p>
<p class="codelink"><a id="p010pro02" href="ch01_images.html#p010pro02a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">void print()</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">int v[] = {0,1,2,3,4,5,6,7,8,9};</span><br/><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">for (auto x : v)</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">for each x in v</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">cout &lt;&lt; x &lt;&lt; '\n';</span><br/><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">for (auto x : {10,21,32,43,54,65})</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">cout &lt;&lt; x &lt;&lt; '\n';</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">...</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">The first range-<span class="EmpStrong">for</span>-statement can be read as &#8220;for every element of <span class="EmpStrong">v</span>, from the first to the last, place a copy in <span class="EmpStrong">x</span> and print it.&#8221; Note that we don&#8217;t have to specify an array bound when we initialize it with a list. The range-<span class="EmpStrong">for</span>-statement can be used for any sequence of elements (&#167;<a href="ch10.html#ch10lev1sec1">10.1</a>).</p>
<p class="indent">If we didn&#8217;t want to copy the values from <span class="EmpStrong">v</span> into the variable <span class="EmpStrong">x</span>, but rather just have <span class="EmpStrong">x</span> refer to an element, we could write:</p>
<p class="codelink"><a id="p010pro03" href="ch01_images.html#p010pro03a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">void increment()</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">int v[] = {0,1,2,3,4,5,6,7,8,9};</span><br/><a id="page_11"/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">for (auto&#38; x : v)</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">++x;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">...</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">In a declaration, the unary suffix <span class="EmpStrong">&#38;</span> means &#8220;reference to.&#8221; A reference is similar to a pointer, except that you don&#8217;t need to use a prefix <code>*</code> to access the value referred to by the reference. Also, a reference cannot be made to refer to a different object after its initialization.</p>
<p class="indent">References are particularly useful for specifying function arguments. For example:</p>
<p class="codelink"><a id="p011pro01" href="ch01_images.html#p011pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">void sort(vector&lt;double&gt;&#38; v);</span>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">sort v</span></p>
<p class="noindent">By using a reference, we ensure that for a call <span class="EmpStrong">sort(my_vec)</span>, we do not copy <span class="EmpStrong">my_vec</span> and that it really is <span class="EmpStrong">my_vec</span> that is sorted and not a copy of it.</p>
<p class="indent">When we don&#8217;t want to modify an argument, but still don&#8217;t want the cost of copying, we use a <span class="EmpStrong">const</span> reference. For example:</p>
<p class="codelink"><a id="p011pro02" href="ch01_images.html#p011pro02a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">double sum(const vector&lt;double&gt;&#38;)</span></p>
<p class="noindent">Functions taking <span class="EmpStrong">const</span> references are very common.</p>
<p class="indent">When used in declarations, operators (such as <span class="EmpStrong">&#38;</span>, <code>*</code>, and <span class="EmpStrong">[ ]</span>) are called <em>declarator operators</em>:</p>
<p class="codelink"><a id="p011pro03" href="ch01_images.html#p011pro03a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">T a[n];</span>&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">T[n]: array of n Ts</span><br/><span class="EmpStrong">T* p;</span>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">T*: pointer to T</span><br/><span class="EmpStrong">T&#38; r;</span>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">T&#38;: reference to T</span><br/><span class="EmpStrong">T f(A);</span>&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">T(A): function taking an argument of type A returning a result of type T</span></p>
<p class="noindent">We try to ensure that a pointer always points to an object, so that dereferencing it is valid. When we don&#8217;t have an object to point to or if we need to represent the notion of &#8220;no object available&#8221; (e.g., for an end of a list), we give the pointer the value <span class="EmpStrong">nullptr</span> (&#8220;the null pointer&#8221;). There is only one <span class="EmpStrong">nullptr</span> shared by all pointer types:</p>
<p class="codelink"><a id="p011pro04" href="ch01_images.html#p011pro04a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">double* pd = nullptr;</span><br/><span class="EmpStrong">Link&lt;Record&gt;* lst = nullptr;</span>&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">pointer to a Link to a Record</span><br/><span class="EmpStrong">int x = nullptr;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">error: nullptr is a pointer not an integer</span></p>
<p class="noindent">It is often wise to check that a pointer argument that is supposed to point to something, actually points to something:</p>
<p class="codelink"><a id="p011pro05" href="ch01_images.html#p011pro05a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">int count_x(char* p, char x)</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">count the number of occurrences of x in p[]</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">p is assumed to point to a zero-terminated array of char (or to nothing)</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">if (p==nullptr) return 0;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">int count = 0;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">for (;p!=nullptr; ++p)</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">if (*p==x)</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">++count;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">return count;</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">Note how we can move a pointer to point to the next element of an array using <span class="EmpStrong">++</span> and that we can leave out the initializer in a <span class="EmpStrong">for</span>-statement if we don&#8217;t need it.</p>
<p class="indent"><a id="page_12"/>The definition of <span class="EmpStrong">count_x()</span> assumes that the <span class="EmpStrong">char</span> <code>*</code> is a <em>C-style string</em>, that is, that the pointer points to a zero-terminated array of <span class="EmpStrong">char</span>.</p>
<p class="indent">In older code, <span class="EmpStrong">0</span> or <span class="EmpStrong">NULL</span> is typically used instead of <span class="EmpStrong">nullptr</span>. However, using <span class="EmpStrong">nullptr</span> eliminates potential confusion between integers (such as <span class="EmpStrong">0</span> or <span class="EmpStrong">NULL</span>) and pointers (such as <span class="EmpStrong">nullptr</span>).</p>
<p class="indent">The <span class="EmpStrong">count_if()</span> example is unnecessarily complicated. We can simplify it by testing for the <span class="EmpStrong">nullptr</span> in one place only. We are not using the initializer part of the <span class="EmpStrong">for</span>-statement, so we can use the simpler <span class="EmpStrong">while</span>-statement:</p>
<p class="codelink"><a id="p012pro01" href="ch01_images.html#p012pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">int count_x(char* p, char x)</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">count the number of occurrences of x in p[]</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">p is assumed to point to a zero-terminated array of char (or to nothing)</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">int count = 0;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">while (p) {</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">if (*p==x)</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">++count;</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">++p;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">}</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">return count;</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">The <span class="EmpStrong">while</span>-statement executes until its condition becomes <span class="EmpStrong">false</span>.</p>
<p class="indent">A test of a pointer (e.g., <span class="EmpStrong">while (p)</span>) is equivalent to comparing the pointer to the null pointer (e.g., <span class="EmpStrong">while (p!=nullptr)</span>).</p>
<div class="heading">
<h3 id="ch01lev1sec9">1.9. Tests</h3>
<p class="noindent">C++ provides a conventional set of statements for expressing selection and looping. For example, here is a simple function that prompts the user and returns a Boolean indicating the response:</p>
</div>
<p class="codelink"><a id="p012pro02" href="ch01_images.html#p012pro02a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">bool accept()</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">cout &lt;&lt; "Do you want to proceed (y or n)?\n";</span>&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">write question</span><br/><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">char answer = 0;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">cin &gt;&gt; answer;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">read answer</span><br/><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">if (answer == 'y')</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">return true;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">return false;</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">To match the <span class="EmpStrong">&lt;&lt;</span> output operator (&#8220;put to&#8221;), the <span class="EmpStrong">&gt;&gt;</span> operator (&#8220;get from&#8221;) is used for input; <span class="EmpStrong">cin</span> is the standard input stream (<a href="ch08.html#ch08">Chapter 8</a>). The type of the right-hand operand of <span class="EmpStrong">&gt;&gt;</span> determines what input is accepted, and its right-hand operand is the target of the input operation. The <span class="EmpStrong">\n</span> character at the end of the output string represents a newline (&#167;<a href="ch01.html#ch01lev1sec3">1.3</a>).</p>
<p class="indent">Note that the definition of <span class="EmpStrong">answer</span> appears where it is needed (and not before that). A declaration can appear anywhere a statement can.</p>
<p class="noindent"><a id="page_13"/>The example could be improved by taking an <span class="EmpStrong">n</span> (for &#8220;no&#8221;) answer into account:</p>
<p class="codelink"><a id="p013pro01" href="ch01_images.html#p013pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">bool accept2()</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">cout &lt;&lt; "Do you want to proceed (y or n)?\n";</span>&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">write question</span><br/><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">char answer = 0;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">cin &gt;&gt; answer;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">read answer</span><br/><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">switch (answer) {</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">case 'y':</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">return true;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">case 'n':</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">return false;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">default:</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">cout &lt;&lt; "I'll take that for a no.\n";</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">return false;</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">}</span><br/><span class="EmpStrong">}</span></p>
<p class="noindent">A <span class="EmpStrong">switch</span>-statement tests a value against a set of constants. The case constants must be distinct, and if the value tested does not match any of them, the <span class="EmpStrong">default</span> is chosen. If no <span class="EmpStrong">default</span> is provided, no action is taken if the value doesn&#8217;t match any case constant.</p>
<p class="indent">We don&#8217;t have to exit a <span class="EmpStrong">case</span> by returning from the function that contains its <span class="EmpStrong">switch</span>-statement. Often, we just want to continue execution with the statement following the <span class="EmpStrong">switch</span>-statement. We can do that using a <span class="EmpStrong">break</span> statement. As an example, consider an overly clever, yet primitive, parser for a trivial command video game:</p>
<p class="codelink"><a id="p013pro02" href="ch01_images.html#p013pro02a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">void action()</span><br/><span class="EmpStrong">{</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">while (true) {</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">cout &lt;&lt; "enter action:\n";</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">request action</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">string act;</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">cin &gt;&gt; act;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">rear characters into a string</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">Point delta {0,0};</span>&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">Point holds an {x,y} pair</span><br/><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">for (char ch : act) {</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">switch (ch) {</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">case 'u': //</span> <span class="EmpItalic">up</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">case 'n': //</span> <span class="EmpItalic">north</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">++delta.y;</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">break;</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">case 'r': //</span> <span class="EmpItalic">right</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">case 'e': //</span> <span class="EmpItalic">east</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">++delta.x;</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">break;</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">... more actions ...</span><br/><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">default:</span><br/><a id="page_14"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">cout &lt;&lt; "I freeze!\n";</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">}</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">move(current+delta*scale);</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">update_display();</span><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">}</span><br/>&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">}</span><br/><span class="EmpStrong">}</span></p>
<div class="heading">
<h3 id="ch01lev1sec10">1.10. Advice</h3>
<p class="ref">[1] The material in this chapter roughly corresponds to what is described in much greater detail in <a href="ch05.html#ch05">Chapters 5</a>-<a href="ch06.html#ch06">6</a>, <a href="ch09.html#ch09">9</a>-<a href="ch10.html#ch10">10</a>, and <a href="ch12.html#ch12">12</a> of [Stroustrup,2013].</p>
</div>
<p class="ref">[2] Don&#8217;t panic! All will become clear in time; &#167;<a href="ch01.html#ch01lev1sec1">1.1</a>.</p>
<p class="ref">[3] You don&#8217;t have to know every detail of C++ to write good programs.</p>
<p class="ref">[4] Focus on programming techniques, not on language features.</p>
<p class="ref">[5] For the final word on language definition issues, see the ISO C++ standard; &#167;<a href="ch14.html#ch14lev2sec3">14.1.3</a>.</p>
<p class="ref">[6] &#8220;Package&#8221; meaningful operations as carefully named functions; &#167;<a href="ch01.html#ch01lev1sec4">1.4</a>.</p>
<p class="ref">[7] A function should perform a single logical operation; &#167;<a href="ch01.html#ch01lev1sec4">1.4</a>.</p>
<p class="ref">[8] Keep functions short; &#167;<a href="ch01.html#ch01lev1sec4">1.4</a>.</p>
<p class="ref">[9] Use overloading when functions perform conceptually the same task on different types; &#167;<a href="ch01.html#ch01lev1sec4">1.4</a>.</p>
<p class="ref1">[10] If a function may have to be evaluated at compile time, declare it <span class="EmpStrong">constexpr</span>; &#167;<a href="ch01.html#ch01lev1sec7">1.7</a>.</p>
<p class="ref1">[11] Avoid &#8220;magic constants;&#8221; use symbolic constants; &#167;<a href="ch01.html#ch01lev1sec7">1.7</a>.</p>
<p class="ref1">[12] Declare one name (only) per declaration.</p>
<p class="ref1">[13] Keep common and local names short, and keep uncommon and nonlocal names longer.</p>
<p class="ref1">[14] Avoid similar-looking names.</p>
<p class="ref1">[15] Avoid <span class="EmpStrong">ALL_CAPS</span> names.</p>
<p class="ref1">[16] Prefer the <span class="EmpStrong">{}</span>-initializer syntax for declarations with a named type; &#167;<a href="ch01.html#ch01lev1sec5">1.5</a>.</p>
<p class="ref1">[17] Prefer the <span class="EmpStrong">=</span> syntax for the initialization in declarations using <span class="EmpStrong">auto</span>; &#167;<a href="ch01.html#ch01lev1sec5">1.5</a>.</p>
<p class="ref1">[18] Avoid uninitialized variables; &#167;<a href="ch01.html#ch01lev1sec5">1.5</a>.</p>
<p class="ref1">[19] Keep scopes small; &#167;<a href="ch01.html#ch01lev1sec6">1.6</a>.</p>
<p class="ref1">[20] Keep use of pointers simple and straightforward; &#167;<a href="ch01.html#ch01lev1sec8">1.8</a>.</p>
<p class="ref1">[21] Use <span class="EmpStrong">nullptr</span> rather than <span class="EmpStrong">0</span> or <span class="EmpStrong">NULL</span>; &#167;<a href="ch01.html#ch01lev1sec8">1.8</a>.</p>
<p class="ref1">[22] Don&#8217;t declare a variable until you have a value to initialize it with; &#167;<a href="ch01.html#ch01lev1sec8">1.8</a>, &#167;<a href="ch01.html#ch01lev1sec9">1.9</a>.</p>
<p class="ref1">[23] Don&#8217;t say in comments what can be clearly stated in code.</p>
<p class="ref1">[24] State intent in comments.</p>
<p class="ref1">[25] Maintain a consistent indentation style.</p>
<p class="ref1">[26] Avoid complicated expressions.</p>
<p class="ref1">[27] Avoid narrowing conversions; &#167;<a href="ch01.html#ch01lev1sec5">1.5</a>.</p>
</body>
</html>
