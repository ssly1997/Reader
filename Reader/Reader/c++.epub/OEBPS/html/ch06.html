<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>6. Library Overview</title>
<link rel="stylesheet" type="text/css" href="9780133549003.css"/>
</head>
<body>
<h2 id="ch06"><a id="page_71"/><span class="pd_blue">6.</span> Library Overview</h2>
<p class="blockquote"><em>Why waste time learning<br/>when ignorance is instantaneous?</em></p>
<p class="attribution"><em>&#8211; Hobbes</em></p>
<p class="indenthangingB">&#8226; <a href="ch06.html#ch06lev1sec1">Introduction</a></p>
<p class="indenthangingB">&#8226; <a href="ch06.html#ch06lev1sec2">Standard-Library Components</a></p>
<p class="indenthangingB">&#8226; <a href="ch06.html#ch06lev1sec3">Standard-Library Headers and Namespace</a></p>
<p class="indenthangingB">&#8226; <a href="ch06.html#ch06lev1sec4">Advice</a></p>
<div class="heading">
<h3 id="ch06lev1sec1">6.1. Introduction</h3>
<p class="noindent">No significant program is written in just a bare programming language. First, a set of libraries is developed. These then form the basis for further work. Most programs are tedious to write in the bare language, whereas just about any task can be rendered simple by the use of good libraries.</p>
</div>
<p class="indent">Continuing from <a href="ch01.html#ch01">Chapters 1</a>-<a href="ch05.html#ch05">5</a>, <a href="ch06.html#ch06">Chapters 6</a>-<a href="ch13.html#ch13">13</a> give a quick tour of key standard-library facilities. I very briefly present useful standard-library types, such as <span class="EmpStrong">string</span>, <span class="EmpStrong">ostream</span>, <span class="EmpStrong">vector</span>, <span class="EmpStrong">map</span>,</p>
<p class="indent"><span class="EmpStrong">unique_ptr</span>, <span class="EmpStrong">thread</span>, <span class="EmpStrong">regex</span>, and <span class="EmpStrong">complex</span>, as well as the most common ways of using them. As in <a href="ch01.html#ch01">Chapters 1</a>-<a href="ch05.html#ch05">5</a>, you are strongly encouraged not to be distracted or discouraged by an incomplete understanding of details. The purpose of this chapter is to convey a basic understanding of the most useful library facilities.</p>
<p class="indent">The specification of the standard library is almost two thirds of the ISO C++ standard. Explore it, and prefer it to home-made alternatives. Much thought has gone into its design, more still into its implementations, and much effort will go into its maintenance and extension.</p>
<p class="indent">The standard-library facilities described in this book are part of every complete C++ implementation. In addition to the standard-library components, most implementations offer &#8220;graphical user interface&#8221; systems (GUIs), Web interfaces, database interfaces, etc. Similarly, most application-development environments provide &#8220;foundation libraries&#8221; for corporate or industrial &#8220;standard&#8221; development and/or execution environments. Here, I do not describe such systems and libraries.</p>
<p class="noindent"><a id="page_72"/>The intent is to provide a self-contained description of C++ as defined by the standard and to keep the examples portable. Naturally, a programmer is encouraged to explore the more extensive facilities available on most systems.</p>
<div class="heading">
<h3 id="ch06lev1sec2">6.2. Standard-Library Components</h3>
<p class="noindent">The facilities provided by the standard library can be classified like this:</p>
</div>
<p class="indenthangingB">&#8226; Run-time language support (e.g., for allocation and run-time type information).</p>
<p class="indenthangingB">&#8226; The C standard library (with very minor modifications to minimize violations of the type system).</p>
<p class="indenthangingB">&#8226; Strings (with support for international character sets and localization); see &#167;<a href="ch07.html#ch07lev1sec2">7.2</a>.</p>
<p class="indenthangingB">&#8226; Support for regular expression matching; see &#167;<a href="ch07.html#ch07lev1sec3">7.3</a>.</p>
<p class="indenthangingB">&#8226; I/O streams is an extensible framework for input and output to which users can add their own types, streams, buffering strategies, locales, and character sets.</p>
<p class="indenthangingB">&#8226; A framework of containers (such as <span class="EmpStrong">vector</span> and <span class="EmpStrong">map</span>) and algorithms (such as <span class="EmpStrong">find()</span>, <span class="EmpStrong">sort()</span>, and <span class="EmpStrong">merge()</span>); see <a href="ch09.html#ch09">Chapter 9</a> and <a href="ch10.html#ch10">Chapter 10</a>. This framework, conventionally called the STL [Stepanov,1994], is extensible so users can add their own containers and algorithms.</p>
<p class="indenthangingB">&#8226; Support for numerical computation (such as standard mathematical functions, complex numbers, vectors with arithmetic operations, and random number generators); see &#167;<a href="ch04.html#ch04lev2sec1">4.2.1</a> and <a href="ch12.html#ch12">Chapter 12</a>.</p>
<p class="indenthangingB">&#8226; Support for concurrent programming, including <span class="EmpStrong">thread</span>s and locks; see <a href="ch13.html#ch13">Chapter 13</a>. The concurrency support is foundational so that users can add support for new models of concurrency as libraries.</p>
<p class="indenthangingB">&#8226; Utilities to support template metaprogramming (e.g., type traits; &#167;<a href="ch11.html#ch11lev1sec6">11.6</a>), STL-style generic programming (e.g., <span class="EmpStrong">pair</span>; &#167;<a href="ch11.html#ch11lev2sec4">11.3.3</a>), and general programming (e.g., <span class="EmpStrong">clock</span>; &#167;<a href="ch11.html#ch11lev1sec4">11.4</a>).</p>
<p class="indenthangingB">&#8226; &#8220;Smart pointers&#8221; for resource management (e.g., <span class="EmpStrong">unique_ptr</span> and <span class="EmpStrong">shared_ptr</span>; &#167;<a href="ch11.html#ch11lev2sec1">11.2.1</a>) and an interface to garbage collectors (&#167;<a href="ch04.html#ch04lev2sec11">4.6.4</a>).</p>
<p class="indenthangingB">&#8226; Special-purpose containers, such as <span class="EmpStrong">array</span> (&#167;<a href="ch11.html#ch11lev2sec2">11.3.1</a>), <span class="EmpStrong">bitset</span> (&#167;<a href="ch11.html#ch11lev2sec3">11.3.2</a>), and <span class="EmpStrong">tuple</span> (&#167;<a href="ch11.html#ch11lev2sec4">11.3.3</a>).</p>
<p class="noindent">The main criteria for including a class in the library were that:</p>
<p class="indenthangingB">&#8226; it could be helpful to almost every C++ programmer (both novices and experts),</p>
<p class="indenthangingB">&#8226; it could be provided in a general form that did not add significant overhead compared to a simpler version of the same facility, and</p>
<p class="indenthangingB">&#8226; that simple uses should be easy to learn (relative to the inherent complexity of their task).</p>
<p class="noindent">Essentially, the C++ standard library provides the most common fundamental data structures together with the fundamental algorithms used on them.</p>
<div class="heading">
<h3 id="ch06lev1sec3">6.3. Standard-Library Headers and Namespace</h3>
<p class="noindent">Every standard-library facility is provided through some standard header. For example:</p>
</div>
<p class="pre"><span class="EmpStrong">#include&lt;string&gt;</span><br/><span class="EmpStrong">#include&lt;list&gt;</span></p>
<p class="noindent">This makes the standard <span class="EmpStrong">string</span> and <span class="EmpStrong">list</span> available.</p>
<p class="indent"><a id="page_73"/>The standard library is defined in a namespace (&#167;<a href="ch03.html#ch03lev1sec3">3.3</a>) called <span class="EmpStrong">std</span>. To use standard library facilities, the <span class="EmpStrong">std::</span> prefix can be used:</p>
<p class="codelink"><a id="p073pro01" href="ch06_images.html#p073pro01a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">std::string s {"Four legs Good; two legs Baaad!"};</span><br/><span class="EmpStrong">std::list&lt;std::string&gt; slogans {"War is Peace", "Freedom is Slavery", "Ignorance is Strength"};</span></p>
<p class="noindent">For simplicity, I will rarely use the <span class="EmpStrong">std::</span> prefix explicitly in examples. Neither will I always <span class="EmpStrong">#include</span> the necessary headers explicitly. To compile and run the program fragments here, you must <span class="EmpStrong">#include</span> the appropriate headers and make the names they declare accessible. For example:</p>
<p class="codelink"><a id="p073pro02" href="ch06_images.html#p073pro02a">Click here to view code image</a></p>
<p class="pre"><span class="EmpStrong">#include&lt;string&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">make the standard string facilities accessible</span><br/><span class="EmpStrong">using namespace std;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">make std names available without std:: prefix</span><br/><br/><span class="EmpStrong">string s {"C++ is a general-purpose programming language"};</span>&#160;&#160;&#160;&#160;&#160;&#160;<span class="EmpStrong">//</span> <span class="EmpItalic">OK: string is std::string</span></p>
<p class="noindent">It is generally in poor taste to dump every name from a namespace into the global namespace. However, in this book, I use the standard library exclusively and it is good to know what it offers.</p>
<p class="indent">Here is a selection of standard-library headers, all supplying declarations in namespace <span class="EmpStrong">std</span>:</p>
<div class="image"><img src="graphics/073tab01.jpg" alt="Image"/></div>
<p class="noindent">This listing is far from complete.</p>
<p class="indent">Headers from the C standard library, such as <span class="EmpStrong">&lt;stdlib.h&gt;</span> are provided. For each such header there is also a version with its name prefixed by <span class="EmpStrong">c</span> and the <span class="EmpStrong">.h</span> removed. This version, such as <span class="EmpStrong">&lt;cstdlib&gt;</span> places its declarations in the <span class="EmpStrong">std</span> namespace.</p>
<div class="heading">
<h3 id="ch06lev1sec4"><a id="page_74"/>6.4. Advice</h3>
<p class="ref">[1] The material in this chapter roughly corresponds to what is described in much greater detail in Chapter 30 of [Stroustrup,2013].</p>
</div>
<p class="ref">[2] Don&#8217;t reinvent the wheel; use libraries; &#167;<a href="ch06.html#ch06lev1sec1">6.1</a>.</p>
<p class="ref">[3] When you have a choice, prefer the standard library over other libraries; &#167;<a href="ch06.html#ch06lev1sec1">6.1</a>.</p>
<p class="ref">[4] Do not think that the standard library is ideal for everything; &#167;<a href="ch06.html#ch06lev1sec1">6.1</a>.</p>
<p class="ref">[5] Remember to <span class="EmpStrong">#include</span> the headers for the facilities you use; &#167;<a href="ch06.html#ch06lev1sec3">6.3</a>.</p>
<p class="ref">[6] Remember that standard-library facilities are defined in namespace <span class="EmpStrong">std</span>; &#167;<a href="ch06.html#ch06lev1sec3">6.3</a>.</p>
</body>
</html>